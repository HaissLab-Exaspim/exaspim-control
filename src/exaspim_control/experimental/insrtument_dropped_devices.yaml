instrument:
  devices:
    639 nm:
     type: laser
     driver: voxel.devices.laser.coherent.obis_lx
     module: ObisLXLaser
     color: red
     init:
       id: M231211006
       wavelength: 639
       port: COM6
       maximum_power_mw: 1000
    tiger controller:
      subdevices:
        left:
          type: focusing_stage
          driver: voxel.devices.stage.asi.tiger
          module: TigerStage
          init:
            hardware_axis: a
            instrument_axis: a
          properties:
            mode: off
            speed_mm_s: 0.01
            backlash_mm: 0.004
            acceleration_ms: 5.0
        right:
          type: focusing_stage
          driver: voxel.devices.stage.asi.tiger
          module: TigerStage
          init:
            hardware_axis: b
            instrument_axis: b
          properties:
            mode: off
            speed_mm_s: 0.01
            backlash_mm: 0.004
            acceleration_ms: 5.0
        joystick:
           type: joystick
           driver: voxel.devices.joystick.asi
           module: Joystick
           init:
             joystick_mapping:
               joystick_x:
                 instrument_axis: x
                 polarity: default
               joystick_y:
                 instrument_axis: z
                 polarity: default
               wheel_z:
                 instrument_axis: a
                 polarity: default
               wheel_f:
                 instrument_axis: b
                 polarity: default
             axis_mapping:
               x: x
               y: v
               z: z
               t: t
               a: a
               b: b
               m: m
    power meter:
      type: power_meter
      driver: voxel.devices.power_meter.thorlabs.pm100
      module: PM100Meter
      init:
        id: pm100d
        conn: P0044066
    flip mount:
      type: flip_mount
      driver: voxel.devices.flip_mount.thorlabs.mff101
      module: MFF1101FlipMount
      init:
        id: powell lens
        conn: "37008111"
        positions:
          alignment mode: 0
          imaging mode: 1
      properties:
        flip_time_ms: 2800
    aotf:
      type: aotf
      driver: voxel.devices.aotf.aaopto.aotfnc
      module: AAOptoAOTF
      init:
        port: COM7
    left tunable lens:
      type: tunable_lens
      driver: voxel.devices.tunable_lens.optotune.icc4c
      module: ICC4CTunableLens
      init:
        port: COM4
        channel: 0
      properties:
        mode: external
    right tunable lens:
      type: tunable_lens
      driver: voxel.devices.aotf.optotune.icc4c
      module: ICC4CTunableLens
      init:
        port: COM19
        channel: 1
      properties:
        mode: external
    pcie-6738:
      properties:
        tasks:
          ao_task:
            ports:
              right tunable lens:
                port: ao3
                waveform: sawtooth
                device_max_volts: 5.0
                device_min_volts: 0.0
                parameters:
                  start_time_ms:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      # "639": 0.0
                  end_time_ms:
                    channels:
                      "488": 544.0
                      "561": 544.0
                      # "639": 544.0
                  amplitude_volts:
                    channels:
                      "488": -0.078
                      "561": -0.078
                      # "639": -0.078
                  offset_volts:
                    channels:
                      "488": 2.448
                      "561": 2.448
                      # "639": 2.448
                  cutoff_frequency_hz:
                    channels:
                      "488": 1000
                      "561": 1000
                      # "639": 1000
              left piezo x:
                port: ao7
                waveform: square wave
                device_max_volts: 10.0
                device_min_volts: 0.0
                parameters:
                  start_time_ms:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      # "639": 0.0
                  end_time_ms:
                    channels:
                      "488": 594.0
                      "561": 594.0
                      # "639": 594.0
                  max_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      # "639": 0.0
                  min_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      # "639": 0.0
              left piezo y:
                port: ao11
                waveform: square wave
                device_max_volts: 10.0
                device_min_volts: 0.0
                parameters:
                  start_time_ms:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      # "639": 0.0
                  end_time_ms:
                    channels:
                      "488": 594.0
                      "561": 594.0
                      # "639": 594.0
                  max_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      # "639": 0.0
                  min_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      # "639": 0.0
              left piezo z:
                port: ao14
                waveform: square wave
                device_max_volts: 10.0
                device_min_volts: 0.0
                parameters:
                  start_time_ms:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      # "639": 0.0
                  end_time_ms:
                    channels:
                      "488": 594.0
                      "561": 594.0
                      # "639": 594.0
                  max_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      # "639": 0.0
                  min_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      # "639": 0.0