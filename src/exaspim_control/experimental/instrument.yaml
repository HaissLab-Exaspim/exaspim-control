instrument:
  id: exaspim-01
  channels:
    "488":
      lasers: [488 nm]
      cameras: [vp-151mx]
      focusing_stages: [camera]
    "561":
      lasers: [561 nm]
      cameras: [vp-151mx]
      focusing_stages: [camera]
    "639":
      lasers: [639 nm]
      cameras: [vp-151mx]
      focusing_stages: [camera]

  devices:
    vp-151mx:
      type: camera
      driver: voxel.devices.camera.vieworks.egrabber
      module: VieworksCamera
      init:
        id: MP151BCY018
      properties:
        exposure_time_ms: 350.0
        pixel_type: mono14
        height_px: 10640
        width_px: 14192
        trigger:
          mode: on
          polarity: risingedge
          source: line0
        bit_packing_mode: msb
        binning: 1
        um_px: 0.748
    488 nm:
      type: laser
      driver: voxel.devices.laser.coherent.genesis_mx
      module: GenesisMXLaser
      color: blue
      init:
        id: A648323DP081
        wavelength: 488
        maximum_power_mw: 1000
    561 nm:
      type: laser
      driver: voxel.devices.laser.coherent.genesis_mx
      module: GenesisMXLaser
      color: green
      init:
        id: J718750CM901
        wavelength: 561
        maximum_power_mw: 1000
    639 nm:
      type: laser
      driver: voxel.devices.laser.simulated
      module: SimulatedLaser
      color: red
      init:
        id: M231211006
        wavelength: 639
        maximum_power_mw: 1000
    tiger controller:
      type: stage
      driver: tigerasi.tiger_controller
      module: TigerController
      init:
        com_port: COM5
      subdevices:
        z:
          type: scanning_stage
          driver: voxel.devices.stage.asi.tiger
          module: TigerStage
          init:
            hardware_axis: z
            instrument_axis: z
          properties:
            mode: step shoot
            speed_mm_s: 1.0
            backlash_mm: 0.0
            acceleration_ms: 200.0
        x:
          type: tiling_stage
          driver: voxel.devices.stage.asi.tiger
          module: TigerStage
          init:
            hardware_axis: x
            instrument_axis: x
          properties:
            mode: off
            speed_mm_s: 1.0
            backlash_mm: 0.004
            acceleration_ms: 200.0
        y:
          type: tiling_stage
          driver: voxel.devices.stage.asi.tiger
          module: TigerStage
          init:
            hardware_axis: v
            instrument_axis: y
          properties:
            mode: off
            speed_mm_s: 1.0
            backlash_mm: 0.004
            acceleration_ms: 200.0
        theta:
          type: focusing_stage
          driver: voxel.devices.stage.asi.tiger
          module: TigerStage
          init:
            hardware_axis: t
            instrument_axis: t
          properties:
            mode: off
            speed_mm_s: 0.3
            backlash_mm: 0.004
            acceleration_ms: 200.0
        camera:
          type: focusing_stage
          driver: voxel.devices.stage.asi.tiger
          module: TigerStage
          init:
            hardware_axis: m
            instrument_axis: m
          properties:
            mode: off
            speed_mm_s: 0.01
            backlash_mm: 0.004
            acceleration_ms: 20.0
    temperature_sensor:
      type: temperature_sensor
      driver: voxel.devices.temperature_sensor.thorlabs.tsp0b1
      module: TSP01BTemperatureSensor
      init:
        id: M00542274
        channel: TH1
    pcie-6738:
      type: daq
      driver: voxel.devices.daq.ni
      module: NIDAQ
      init:
        dev: Dev1
      properties:
        tasks:
          ao_task:
            name: ao task
            ports:
              left tunable lens:
                port: ao0
                waveform: sawtooth
                device_max_volts: 10.0
                device_min_volts: 0.0
                parameters:
                  start_time_ms:
                    channels:
                      "488": 15.0
                      "561": 15.0
                      "639": 15.0
                  end_time_ms:
                    channels:
                      "488": 385.0
                      "561": 385.0
                      "639": 385.0
                  amplitude_volts:
                    channels:
                      "488": 2.45
                      "561": 2.45
                      "639": 2.45
                  offset_volts:
                    channels:
                      "488": 5.05
                      "561": 5.05
                      "639": 5.05
                  cutoff_frequency_hz:
                    channels:
                      "488": 1000
                      "561": 1000
                      "639": 1000
              stage:
                port: ao2
                waveform: square wave
                device_max_volts: 5.0
                device_min_volts: 0.0
                parameters:
                  start_time_ms:
                    channels:
                      "488": 450.0
                      "561": 450.0
                      "639": 450.0
                  end_time_ms:
                    channels:
                      "488": 451.0
                      "561": 451.0
                      "639": 451.0
                  max_volts:
                    channels:
                      "488": 5.0
                      "561": 5.0
                      "639": 5.0
                  min_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      "639": 0.0
              camera:
                port: ao1
                waveform: square wave
                device_max_volts: 5.0
                device_min_volts: 0.0
                parameters:
                  start_time_ms:
                    channels:
                      "488": 25.0
                      "561": 25.0
                      "639": 25.0
                  end_time_ms:
                    channels:
                      "488": 35.0
                      "561": 35.0
                      "639": 35.0
                  max_volts:
                    channels:
                      "488": 5.0
                      "561": 5.0
                      "639": 5.0
                  min_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      "639": 0.0
              488 nm:
                port: ao7
                waveform: square wave
                device_max_volts: 10.0
                device_min_volts: 0.0
                parameters:
                  start_time_ms:
                    channels:
                      "488": 15.0
                      "561": 15.0
                      "639": 15.0
                  end_time_ms:
                    channels:
                      "488": 400.0
                      "561": 400.0
                      "639": 400.0
                  max_volts:
                    channels:
                      "488": 10.0
                      "561": 0.0
                      "639": 0.0
                  min_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      "639": 0.0
              561 nm:
                port: ao4
                waveform: square wave
                device_max_volts: 10.0
                device_min_volts: 0.0
                parameters:
                  start_time_ms:
                    channels:
                      "488": 15.0
                      "561": 15.0
                      "639": 15.0
                  end_time_ms:
                    channels:
                      "488": 400.0
                      "561": 400.0
                      "639": 400.0
                  max_volts:
                    channels:
                      "488": 0.0
                      "561": 10.0
                      "639": 0.0
                  min_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      "639": 0.0
              639 nm:
                port: ao13
                waveform: square wave
                device_max_volts: 10.0
                device_min_volts: 0.0
                parameters:
                  start_time_ms:
                    channels:
                      "488": 15.0
                      "561": 15.0
                      "639": 15.0
                  end_time_ms:
                    channels:
                      "488": 400.0
                      "561": 400.0
                      "639": 400.0
                  max_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      "639": 8.0
                  min_volts:
                    channels:
                      "488": 0.0
                      "561": 0.0
                      "639": 0.0
            timing:
              period_time_ms: 500.0
              rest_time_ms: 150.0
              retriggerable: "on"
              sample_mode: finite
              sampling_frequency_hz: 10000
              trigger_mode: "on"
              trigger_polarity: rising
              trigger_port: PFI0
          co_task:
            counters:
              - ctr0
            name: co task
            timing:
              frequency_hz: 1.4
              output_port: PFI0
              trigger_mode: "off"
